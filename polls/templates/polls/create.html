{% extends "polls/base.html" %}

{% block title %}Create Poll{% endblock %}

{% block content %}
<h1>Create Poll</h1>
<form action="{% url 'polls:create' %}" method="post">
    {% csrf_token %}
    <label for="question_text">Question:</label>
    <input type="text" name="question_text" id="question_text" required>
    <br>
    <label for="choice_text">Choices:</label>
    <ul id="choices">
        <li>
            <input type="text" name="choice_text" required>
            <button type="button" onclick="addChoice()">Add Choice</button>
        </li>
    </ul>
    <br>
    <label for="tags">Tags:</label>
    <input type="text" name="tags" id="tags">
    <br>
    <button type="submit">Create Poll</button>
</form>
<script>
    function addChoice() {
        var li = document.createElement("li");
        var input = document.createElement("input");
        input.type = "text";
        input.name = "choice_text";
        input.required = true;
        li.appendChild(input);
        var button = document.createElement("button");
        button.type = "button";
        button.textContent = "Remove Choice";
        button.onclick = function () {
            this.parentNode.remove();
        };
        li.appendChild(button);
        document.getElementById("choices").appendChild(li);
    }
</script>
{% endblock %}